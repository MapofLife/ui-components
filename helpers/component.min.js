/*! 2016-02-05 */
String.prototype.format=function(i,safe,arg){function format(){var str=this,len=arguments.length+1;for(i=0;len>i;arg=arguments[i++])safe="object"==typeof arg?JSON.stringify(arg):arg,str=str.replace(RegExp("\\{"+(i-1)+"\\}","g"),safe);return str}return format["native"]=String.prototype.format,format}(),angular.module("percentage",[]).filter("percentage",function($window){return function(input,decimals,suffix){return decimals=angular.isNumber(decimals)?decimals:3,suffix=suffix||"%",$window.isNaN(input)?"":Math.round(input*Math.pow(10,decimals+2))/Math.pow(10,decimals)+suffix}}),angular.module("km2",[]).filter("km2",function($window){return function(input,decimals,suffix){return suffix=suffix||" kmÂ²",$window.isNaN(parseFloat(input))?"":input+suffix}}),angular.module("imageHelpers",[]).directive("errSrc",function(){return{link:function(scope,element,attrs){var defaultSrc=attrs.src;element.bind("error",function(){attrs.errSrc?element.attr("src",attrs.errSrc):attrs.src&&element.attr("src",defaultSrc)})}}}).directive("mySrc",function(){return{link:function(scope,element,attrs){var img,loadImage;img=null,loadImage=function(){element[0].src="/app/img/img-loading.gif",element[0].style.display="none",img=new Image,img.src=attrs.mySrc,img.onload=function(){element[0].src=attrs.mySrc,element[0].style.display=""}},scope.$watch(function(){return attrs.mySrc},function(newVal,oldVal){oldVal!==newVal&&loadImage()})}}}),function(){function resizeListener(e){var win=e.target||e.srcElement;win.__resizeRAF__&&cancelFrame(win.__resizeRAF__),win.__resizeRAF__=requestFrame(function(){var trigger=win.__resizeTrigger__;trigger.__resizeListeners__.forEach(function(fn){fn.call(trigger,e)})})}function objectLoad(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",resizeListener)}var attachEvent=document.attachEvent,isIE=navigator.userAgent.match(/Trident/),requestFrame=function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20)};return function(fn){return raf(fn)}}(),cancelFrame=function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id)}}();window.addResizeListener=function(element,fn){if(!element.__resizeListeners__)if(element.__resizeListeners__=[],attachEvent)element.__resizeTrigger__=element,element.attachEvent("onresize",resizeListener);else{"static"==getComputedStyle(element).position&&(element.style.position="relative");var obj=element.__resizeTrigger__=document.createElement("object");obj.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),obj.__resizeElement__=element,obj.onload=objectLoad,obj.type="text/html",isIE&&element.appendChild(obj),obj.data="about:blank",isIE||element.appendChild(obj)}element.__resizeListeners__.push(fn)},window.removeResizeListener=function(element,fn){element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1),element.__resizeListeners__.length||(attachEvent?element.detachEvent("onresize",resizeListener):(element.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",resizeListener),element.__resizeTrigger__=!element.removeChild(element.__resizeTrigger__)))}}();