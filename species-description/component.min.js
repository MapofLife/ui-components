/*! 2017-09-14 */
angular.module("mol-species-description-templates",[]).run(["$templateCache",function(a){a.put("mol-species-description-main.html","{{model.content}} <span ng-show=model.content class=pull-right><br><span translate>source</span>: <a ng-href=\"http://{{model.lang}}.wikipedia.org/wiki/{{scientificname.replace(' ','_')}}\" target=_blank>Wikipedia</a></span>")}]),angular.module("mol.species-description",["mol-species-description-templates"]).directive("molSpeciesDescription",function(){return{restrict:"E",scope:{scientificname:"=scientificname"},transclude:!1,templateUrl:"mol-species-description-main.html",controller:["$scope","molApi","$translate","$rootScope","$q","$filter",function(a,b,c,d,e,f){a.model=void 0,a.canceller=e.defer(),a.getDesc=function(){if(a.scientificname){var d=c.use();a.model=void 0,a.canceller.resolve(),a.canceller=e.defer(),b({service:"species/info",params:{scientificname:a.scientificname,lang:d},canceller:a.canceller}).then(function(b){a.model=b.data[0].info?b.data[0].info.filter(function(a){return a.lang===d})[0]||b.data[0].info[0]:{}}).finally(function(){a.canceller=void 0})}},d.$on("$translateChangeSuccess",function(b){a.getDesc()}),a.$watch("scientificname",function(b,c){b&&a.getDesc()}),a.getDesc()}]}});