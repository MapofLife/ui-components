/*! 2015-09-28 */
"use strict";angular.module("mol.services",["ngResource"]).factory("MOLApi",["$http",function($http){return function(service,params,canceller,loading){return loading=void 0===typeof loading?!1:loading,$http({method:"GET",url:"https://api.mol.org/0.1/{0}".format(service),params:params,withCredentials:!1,cache:!0,timeout:canceller?canceller.promise:void 0,ignoreLoadingBar:loading})}}]).factory("GetWiki",["$resource","$q",function($resource,$q){return function(name){var abort=$q.defer();return $resource("https://api.mol.org/wiki",{},{query:{method:"GET",params:{name:name},ignoreLoadingBar:!0,isArray:!1,timeout:abort,transformResponse:function(data,headersGetter){return JSON.parse(data)}}})}}]).factory("GetImages",["$resource","$q",function($resource,$q){return function(name,size){var abort=$q.defer();return $resource("https://api.mol.org/imgstore/list",{api_key:"allyourbase"},{query:{method:"GET",origin:"*",withCredentials:!1,params:{name:name},ignoreLoadingBar:!0,isArray:!0,timeout:abort,transformResponse:function(data,headersGetter){try{var result=JSON.parse(data);return result.images.map(function(v,i){return v.url="{0}=s{1}-c".format(v.url,size),v})}catch(e){return void 0}}}})}}]);